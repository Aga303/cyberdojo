
<script language="javascript" 
        type="text/javascript">

function runTests()
{
  // _js_editor_menu.html.erb
  // ......... callback: function(e) { runTests(); } ..........
  $('play').click();
}

// app/views/kata/view.html.erb
// form_remote_tag :url => {...}, 
//                 :before   => "preRunTests();",
//                 :complete => "postRunTests();"

function preRunTests()
{
  saveCurrentFile();
  $('play').setAttribute('style', 'display:none');
  $('run_tests_spinner').setAttribute('style', 'visibility:visible');
}

function postRunTests()
{
  $('run_tests_spinner').setAttribute('style', 'display:none');
  $('play').setAttribute('style', 'visibility:visible');
  $('editor').focus();
}

</script>

